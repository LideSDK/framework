dependencies:
  pre:
    export CURRENT_BRANCH=develop

    # install lua interpreter and luarocks
    - sudo apt-get install lua5.1 luarocks

    # install lide dependencies with luarocks
    - sudo luarocks install luafilesystem

    # install lide using latest rockspeck: los tests se ejecutaran con esta version:
    #- sudo luarocks install https://raw.githubusercontent.com/lidesdk/framework/master/lide-0.0-1.rockspec

    # Create lide install directory and go to it (~\lide):
    - mkdir ~\lide

    # Clone git repository and submodules:
    - git clone https://github.com/lidesdk/shell.git --recursive ~\lide\shell && cd ~\lide\shell && git checkout $CURRENT_BRANCH && cd ~\lide\shell\libraries\lide && git checkout $CURRENT_BRANCH

    # Create environment variable named LIDE_PATH:
    - export LIDE_PATH=~\lide\shell
    - export PATH=$LIDE_PATH:$PATH
    - chmod +x ~\lide\shell\lide.sh



test:
  override:
    # executing tests:
    - lide tests/lide_core_oop_test.lua